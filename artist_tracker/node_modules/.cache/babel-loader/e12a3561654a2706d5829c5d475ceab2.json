{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n/**\n * Connects methods used to get/send to to the internal API.\n */\n\nclass ArtistTrackerApi {\n  // token for interaction with the API\n  static async request(endpoint) {\n    let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"get\";\n    //console.debug(\"API Call:\", endpoint, data, method);\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = {\n      Authorization: `Bearer ${ArtistTrackerApi.token}`\n    };\n    const params = method === \"get\" ? data : {};\n\n    try {\n      return (await axios({\n        url,\n        method,\n        data,\n        params,\n        headers\n      })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      const message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n  /***********************\n   *    ARTIST ROUTES\n   ***********************/\n\n  /** Get details on an artist by name. */\n\n\n  static async getArtistByName(artistName) {\n    try {\n      const res = await this.request(`search/artistsByName`, {\n        artistName\n      });\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Get details on an artist by id. */\n\n\n  static async getArtistById(artistId) {\n    try {\n      const res = await this.request(`search/artistById`, {\n        artistId\n      });\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Returns an array of artist objects to use in autocomplete. */\n\n\n  static async getArtistsForAutocomplete(str) {\n    try {\n      const res = await this.request('search/artistsByName', {\n        artist: str\n      });\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /***********************\n   *    USER ROUTES\n   ***********************/\n\n  /** Get details on a user by id. */\n  // static async getUser(id, token) {\n  //   try {\n  //     ArtistTrackerApi.token = token;\n  //     const res = await this.request(`users/${id}`);\n  //     return res.user;\n  //   } catch(err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  /** Update user profile. */\n\n\n  static async updateUser(user, token) {\n    try {\n      ArtistTrackerApi.token = token;\n      const {\n        id,\n        username,\n        password,\n        firstName,\n        email,\n        city,\n        radius\n      } = user;\n      const updateData = {\n        username,\n        password,\n        firstName,\n        email,\n        city,\n        radius\n      };\n      const res = await this.request(`users/${id}`, updateData, 'patch');\n      return res.user;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Authenticate username/password and return token */\n\n\n  static async authenticateUser(username, password) {\n    try {\n      const res = await this.request('auth/token', {\n        username,\n        password\n      }, 'post');\n      ArtistTrackerApi.token = res.token;\n      return {\n        token: res.token,\n        user: res.user\n      };\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Register new user and return token */\n\n\n  static async registerUser(user) {\n    try {\n      const {\n        username,\n        password,\n        firstName,\n        email,\n        city,\n        radius\n      } = user;\n      const res = await this.request('auth/register', {\n        username,\n        password,\n        firstName,\n        email,\n        city,\n        radius\n      }, 'post');\n      ArtistTrackerApi.token = res.token;\n      const newUser = {\n        id: res.newUser.id,\n        username: res.newUser.username,\n        firstName: res.newUser.firstName,\n        email: res.newUser.email,\n        city: res.newUser.city,\n        radius: res.newUser.radius\n      };\n      return {\n        token: res.token,\n        newUser\n      };\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Delete user account */\n\n\n  static async deleteUserAccount(id, token) {\n    try {\n      ArtistTrackerApi.token = token;\n      const res = await this.request(`users/${id}`, {}, 'delete');\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /***********************\n   *    USER/ARTIST ROUTES\n   ***********************/\n\n  /** Add an artist to the db. */\n\n\n  static async addArtistToUser(artistId, artistName, userId) {\n    try {\n      const res = await this.request(`artists/add`, {\n        artistId,\n        artistName,\n        userId\n      }, 'post');\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Returns array of user's saved events. */\n\n\n  static async getArtistsForUser(userId) {\n    try {\n      const res = await this.request(`users/${userId}/artists`);\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Removes artist from users_artists for this user. */\n\n\n  static async removeArtistFromUser(userId, artistId) {\n    try {\n      const res = await this.request(`users/${userId}/artists`, {\n        artistId\n      }, 'delete');\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /***********************\n   *    USER/EVENT ROUTES\n   ***********************/\n\n  /** Add an event to the db */\n\n\n  static async addEventToUser(event, userId) {\n    try {\n      const res = await this.request(`events/add`, {\n        event,\n        userId\n      }, 'post');\n      return res;\n    } catch (err) {\n      alert(err);\n      console.log(err);\n    }\n  }\n  /** Returns array of user's favorite artists. */\n\n\n  static async getEventsForUser(userId) {\n    try {\n      const res = await this.request(`users/${userId}/events`);\n      console.log('USERID', userId);\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Removes event from users_events for this user. */\n\n\n  static async removeEventFromUser(userId, eventId) {\n    try {\n      const res = await this.request(`users/${userId}/events`, {\n        eventId\n      }, 'delete');\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /***********************\n   *    CITY ROUTES\n   ***********************/\n\n  /** Get details for city with id. */\n\n\n  static async getCityById(id) {\n    try {\n      const res = await this.request(`search/city/${id}`);\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /** Returns an array of city objects to use in autocomplete. */\n\n\n  static async getCitiesForAutocomplete(str) {\n    try {\n      const res = await this.request('search/cities', {\n        city: str\n      });\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  /***********************\n   *    EVENT ROUTES\n   ***********************/\n\n  /** Get list of events for an artist */\n\n\n  static async getEventsForArtist(artistId, lat, long, radius) {\n    try {\n      const queryData = {\n        id: artistId,\n        lat,\n        long,\n        radius\n      };\n      const res = await this.request(`search/events`, queryData);\n      return res;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n}\n\nexport default ArtistTrackerApi;","map":{"version":3,"sources":["/home/ells/Bootcamp/Capstone-2/frontend/artist_tracker/src/api.js"],"names":["axios","BASE_URL","process","env","REACT_APP_BASE_URL","ArtistTrackerApi","request","endpoint","data","method","url","headers","Authorization","token","params","err","console","error","response","message","Array","isArray","getArtistByName","artistName","res","log","getArtistById","artistId","getArtistsForAutocomplete","str","artist","updateUser","user","id","username","password","firstName","email","city","radius","updateData","authenticateUser","registerUser","newUser","deleteUserAccount","addArtistToUser","userId","getArtistsForUser","removeArtistFromUser","addEventToUser","event","alert","getEventsForUser","removeEventFromUser","eventId","getCityById","getCitiesForAutocomplete","getEventsForArtist","lat","long","queryData"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n\n/**\n * Connects methods used to get/send to to the internal API.\n */\n\nclass ArtistTrackerApi {\n  // token for interaction with the API\n  static token;\n\n  static async request(endpoint, data = {}, method = \"get\") {\n    //console.debug(\"API Call:\", endpoint, data, method);\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = { Authorization: `Bearer ${ArtistTrackerApi.token}` };\n    const params = (method === \"get\") ? data : {};\n    try {\n      return (await axios({ url, method, data, params, headers })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      const message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  /***********************\n   *    ARTIST ROUTES\n   ***********************/\n\n  /** Get details on an artist by name. */\n\n  static async getArtistByName(artistName) {\n    try {\n      const res = await this.request(`search/artistsByName`, {artistName});\n      return res;\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n  /** Get details on an artist by id. */\n\n  static async getArtistById(artistId) {\n    try {\n      const res = await this.request(`search/artistById`, {artistId});\n      return res;\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n  /** Returns an array of artist objects to use in autocomplete. */\n\n  static async getArtistsForAutocomplete(str) {\n    try {\n      const res = await this.request('search/artistsByName', {artist: str});\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /***********************\n   *    USER ROUTES\n   ***********************/\n\n  /** Get details on a user by id. */\n\n  // static async getUser(id, token) {\n  //   try {\n  //     ArtistTrackerApi.token = token;\n  //     const res = await this.request(`users/${id}`);\n  //     return res.user;\n  //   } catch(err) {\n  //     console.log(err)\n  //   }\n  // }\n\n  /** Update user profile. */\n\n  static async updateUser(user, token) {\n    try {\n      ArtistTrackerApi.token = token;\n      const {id, username, password, firstName, email, city, radius} = user;\n      const updateData = {username, password, firstName, email, city, radius}\n      const res = await this.request(`users/${id}`, updateData, 'patch');\n      return res.user;\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n  /** Authenticate username/password and return token */\n\n  static async authenticateUser(username, password) {\n    try {\n      const res = await this.request('auth/token', {username, password}, 'post');\n      ArtistTrackerApi.token = res.token;\n      return {token:res.token, user: res.user};\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n  /** Register new user and return token */\n\n  static async registerUser(user) {\n    try {\n      const {username, password, firstName, email, city, radius} = user;\n      const res = await this.request('auth/register', \n                          {username, password, firstName, email, city, radius}, 'post');\n      ArtistTrackerApi.token = res.token;\n      const newUser = {id:res.newUser.id, username:res.newUser.username,\n          firstName: res.newUser.firstName, email: res.newUser.email, \n          city: res.newUser.city, radius: res.newUser.radius}\n      return {token: res.token, newUser};\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n  /** Delete user account */\n\n  static async deleteUserAccount(id, token) {\n    try {\n      ArtistTrackerApi.token = token;\n      const res = await this.request(`users/${id}`, {}, 'delete');\n      return res;\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n  /***********************\n   *    USER/ARTIST ROUTES\n   ***********************/\n \n  /** Add an artist to the db. */\n\n  static async addArtistToUser(artistId, artistName, userId) {\n    try {\n      const res = await this.request(`artists/add`, {artistId, artistName, userId}, 'post');\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /** Returns array of user's saved events. */\n\n  static async getArtistsForUser(userId) {\n    try {\n      const res = await this.request(`users/${userId}/artists`);\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  \n  /** Removes artist from users_artists for this user. */\n\n  static async removeArtistFromUser(userId, artistId) {\n    try {\n      const res = await this.request(`users/${userId}/artists`, {artistId}, 'delete')\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /***********************\n   *    USER/EVENT ROUTES\n   ***********************/\n\n  /** Add an event to the db */\n\n  static async addEventToUser(event, userId) {\n    try {\n      const res = await this.request(`events/add`, {event, userId}, 'post');\n      return res;\n    } catch(err) {\n      alert(err)\n      console.log(err);\n    }\n  }\n  \n  /** Returns array of user's favorite artists. */\n\n  static async getEventsForUser(userId) {\n    try {\n      const res = await this.request(`users/${userId}/events`);\n      console.log('USERID', userId)\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /** Removes event from users_events for this user. */\n\n  static async removeEventFromUser(userId, eventId) {\n    try {\n      const res = await this.request(`users/${userId}/events`, {eventId}, 'delete')\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n\n  /***********************\n   *    CITY ROUTES\n   ***********************/\n\n  /** Get details for city with id. */\n\n  static async getCityById(id) {\n    try {\n      const res = await this.request(`search/city/${id}`);\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /** Returns an array of city objects to use in autocomplete. */\n\n  static async getCitiesForAutocomplete(str) {\n    try {\n      const res = await this.request('search/cities', {city:str});\n      return res;\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  /***********************\n   *    EVENT ROUTES\n   ***********************/\n\n  /** Get list of events for an artist */\n  \n  static async getEventsForArtist(artistId, lat, long, radius) {\n    try {\n      const queryData = {id: artistId, lat, long, radius}\n      const res = await this.request(`search/events`, queryData);\n\n      return res;\n    } catch(err) {\n      console.log(err)\n    }\n  }\n\n }\n\nexport default ArtistTrackerApi;"]},"metadata":{},"sourceType":"module"}